<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fb="https://www.facebook.com/2008/fbml"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:a4j="http://richfaces.org/a4j">

<h:head>
    <title>Stratego</title>
    <h:outputStylesheet library="css" name="styles.css"  />
    <h:outputScript library="primefaces" name="jquery/jquery.js" target="head" />
    <h:outputScript library="js" name="script.js" />
    <h:outputScript library="js" name="fblogin.js" />
    <h:outputScript library="js" name="redips-drag-source.js" />
</h:head>

<h:body onload="REDIPS.drag.init()">

    <rich:dragIndicator id="indicator" />

    <h:form>
        <p:menubar styleClass="centeredMenuBar">
            <p:menuitem value="" url="#" icon="stratego" disabled="true"/>
            <p:menuitem value="Home" url="index.xhtml"/>
            <p:menuitem value="Play" url="game.xhtml" />

            <p:submenu label="Help">
                <p:menuitem value="Instructions" url="instructions.xhtml" />
                <p:menuitem value="FAQ" url="faq.xhtml" />
            </p:submenu>

            <p:menuitem value="Achievements" url="achievements.xhtml" />

            <p:menuitem value="Login" url="#" onclick="showLogin()"/>
        </p:menubar>
    </h:form>
    <div id="fade"></div>
    <div id="loginContainer">
        <div id="loginForm">
            <table>
                <h:form>
                    <tr><td><h:outputLabel for="userName" value="Username: "/></td><td><h:inputText id="userName" value="#{userBean.username}" required="true"/></td></tr>
                    <tr><td><h:outputLabel for="password" value="Password: "/></td><td><h:inputSecret id="password" value="#{userBean.password}" required="true"/></td></tr>
                    <tr><td><h:commandButton styleClass="btn" value="Login" action="#{userBean.checkCredentials()}"/></td><td><fb:login-button show-faces="false" width="200" max-rows="1" autologoutlink="true"/></td></tr>
                </h:form>
                <h:form>
                    <tr><td><h:commandButton styleClass="btn" value="Register" action="register" /></td></tr>
                </h:form>
            </table>
        </div>
    </div>



    <div id="gameContent">
        <div id="drag">
            <table>
                <tr>
                    <!--<div id="tableLeft" class="sideTable">-->
                    <td class="mark">
                        <table id="sideTable" class="mark">
                            <tr><td class="mark"><h:form><h:commandLink styleClass="btn" onclick="return ready(this);" action="#">Ready</h:commandLink>
                            </h:form></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_1"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b0.png" alt="FLAG"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_1"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b1.png" alt="SPY"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_8"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b2.png" alt="SCOUT"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_5"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b3.png" alt="MINER"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_4"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b4.png" alt="SERGEANT"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_4"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b5.png" alt="LIEUTENANT"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_4"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b6.png" alt="CAPTAIN"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_3"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b7.png" alt="MAJOR"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_2"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b8.png" alt="COLONEL"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_1"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b9.png" alt="GENERAL"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_1"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b10.png" alt="MARSHAL"/></div></td></tr>
                            <tr><td class="mark"><div class="drag clone climit2_6"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/b11.png" alt="BOMB"/></div></td></tr>
                        </table>
                    </td>
                    <!--</div>-->
                    <!--<div id="gameboard">-->

                    <td class="mark">

                        <table id="gameBoard">
                            <!--<tr>-->
                                <ui:repeat var="tile" value="#{dragDropBean.tiles}" varStatus="status">
                                    <f:verbatim rendered="#{status.index mod 10 ==0}">
                                        &lt;/tr&gt;  &lt;tr&gt;
                                    </f:verbatim>
                                    <f:verbatim rendered="#{tile.obstacle == true}"> &lt;td class="mark"&gt;   </f:verbatim>
                                    <f:verbatim rendered="#{tile.obstacle == false}"> &lt;td&gt;  </f:verbatim>
                                    <h:panelGroup rendered="#{tile.piece != null}">
                                        <div class="drag">
                                            <h:graphicImage library="css" name="#{tile.piece.url}" alt="#{tile.piece.name}"/>
                                        </div>
                                    </h:panelGroup>
                                    <f:verbatim> &lt;/td&gt;  </f:verbatim>
                                </ui:repeat>
                            <!--</tr>-->
                        </table>

                    </td>

                    <!--</div>-->
                    <!--<div id="tableRight" class="sideTable">-->
                    <td class="mark">
                        <table id="sideTable">
                            <tr><td class="mark">Not Ready ..</td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r0.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r1.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r2.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r3.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r4.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r5.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r6.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r7.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r8.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r9.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r10.png"/></td></tr>
                            <tr><td class="mark"><h:graphicImage styleClass="sideImg" library="css" name="img/piece/r11.png"/></td></tr>
                        </table>
                    </td>
                    <!--</div>-->
                </tr>
            </table>
        </div>
    </div>




</h:body>
</html>